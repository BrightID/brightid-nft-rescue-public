(this["webpackJsonpbrightid-nft-mint"]=this["webpackJsonpbrightid-nft-mint"]||[]).push([[0],{124:function(t,e,n){},125:function(t,e,n){},232:function(t,e,n){},245:function(t,e){},286:function(t,e){},288:function(t,e){},314:function(t,e){},316:function(t,e){},328:function(t,e){},329:function(t,e){},352:function(t,e){},355:function(t,e){},357:function(t,e){},461:function(t,e){},462:function(t,e){},464:function(t,e,n){"use strict";n.r(e);var r=n(7),i=n.n(r),s=n(211),a=n.n(s),c=(n(232),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,468)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),s(t),a(t)}))}),u=n(224),o=n(16),p=n.p+"static/media/logo.b1016540.png",d=(n(124),n(4)),h=n(10),l=n(0),b=n.n(l),f=(n.p,n.p,n.p,n(125),n(84)),m=n.n(f),v=n(85);var g=function(t){if(!t)throw new Error("no options");var e=!0,n=!1;function r(){e=!1}function i(t){"hidden"===t.target.visibilityState&&(n=!0)}function s(){n?(t.onReturn&&t.onReturn(),n=!1):!e&&t.onFallback&&setTimeout((function(){n||t.onFallback()}),1e3),e=!0}function a(t){[[window,"blur",r],[document,"visibilitychange",i],[window,"focus",s]].forEach((function(e){e[0][t+"EventListener"](e[1],e[2])}))}a("add"),this.destroy=a.bind(null,"remove"),this.openURL=function(n){setTimeout((function(){e&&t.onIgnored&&t.onIgnored()}),500),window.location=n}},j=n(1);var x,y=0;var O=function(t){var e=t.context,n=void 0===e?"":e,i=t.contractAddr,s=void 0===i?"":i,a=t.mainnetRpcUrl,c=void 0===a?"":a,u=t.walletConnectInfuraId,o=void 0===u?"":u,p=t.relayBindURL,l=void 0===p?"":p,f=t.relayMintURL,O=void 0===f?"":f,w=t.maxSupply,k=void 0===w?0:w,_=t.appStoreAndroid,N=void 0===_?"https://play.google.com/store/apps/details?id=org.brightid":_,I=t.appStoreIos,U=void 0===I?"https://apps.apple.com/us/app/brightid/id1428946820":I,C=t.brightIdMeetUrl,T=void 0===C?"https://meet.brightid.org":C,S=t.deepLinkPrefix,D=void 0===S?"brightid://link-verification/http:%2f%2fnode.brightid.org":S,B=t.mintTokenFaucetUrl,P=void 0===B?"https://www.gimlu.com/faucet":B,E=t.mintChainId,M=void 0===E?100:E,R=t.mintChainName,A=void 0===R?"Gnosis Chain (formerly xDai)":R,L=t.mintTokenName,W=void 0===L?"xDAI":L,q=t.mintTokenDecimal,V=void 0===q?18:q,F=t.mintBlockExplorerUrl,H=void 0===F?"https://blockscout.com/xdai/mainnet":F,G=t.mintBlockExplorerTxnPath,J=void 0===G?"/tx/":G,Q=t.mintRpcUrl,z=void 0===Q?"https://rpc.gnosischain.com":Q,Y=t.verificationUrl,K=void 0===Y?"https://app.brightid.org/node/v5/verifications":Y,X="brightid-nft-rescue",Z=Object(r.useRef)(!0),$=Object(r.useState)(!1),tt=Object(h.a)($,2),et=tt[0],nt=tt[1],rt=Object(r.useState)(!1),it=Object(h.a)(rt,2),st=it[0],at=it[1],ct=Object(r.useState)(""),ut=Object(h.a)(ct,2),ot=ut[0],pt=ut[1],dt=Object(r.useState)(""),ht=Object(h.a)(dt,2),lt=ht[0],bt=ht[1],ft=Object(r.useState)(""),mt=Object(h.a)(ft,2),vt=mt[0],gt=mt[1],jt=Object(r.useState)(""),xt=Object(h.a)(jt,2),yt=xt[0],Ot=xt[1],wt=Object(r.useState)(""),kt=Object(h.a)(wt,2),_t=kt[0],Nt=kt[1],It=Object(r.useState)(0),Ut=Object(h.a)(It,2),Ct=Ut[0],Tt=Ut[1],St=Object(r.useState)(!1),Dt=Object(h.a)(St,2),Bt=Dt[0],Pt=Dt[1],Et=Object(r.useState)(!1),Mt=Object(h.a)(Et,2),Rt=Mt[0],At=Mt[1],Lt=Object(r.useState)(""),Wt=Object(h.a)(Lt,2),qt=Wt[0],Vt=Wt[1],Ft=Object(r.useState)(!1),Ht=Object(h.a)(Ft,2),Gt=Ht[0],Jt=Ht[1],Qt=Object(r.useState)(!1),zt=Object(h.a)(Qt,2),Yt=zt[0],Kt=zt[1],Xt=Object(r.useState)(!1),Zt=Object(h.a)(Xt,2),$t=Zt[0],te=Zt[1],ee=Object(r.useState)(!1),ne=Object(h.a)(ee,2),re=ne[0],ie=ne[1],se=Object(r.useState)(""),ae=Object(h.a)(se,2),ce=ae[0],ue=ae[1],oe=Object(r.useState)(""),pe=Object(h.a)(oe,2),de=pe[0],he=pe[1],le=Object(r.useState)(""),be=Object(h.a)(le,2),fe=be[0],me=be[1],ve=Object(r.useState)(""),ge=Object(h.a)(ve,2),je=ge[0],xe=ge[1],ye=Object(r.useState)(""),Oe=Object(h.a)(ye,2),we=Oe[0],ke=Oe[1],_e=Object(r.useState)(""),Ne=Object(h.a)(_e,2),Ie=Ne[0],Ue=Ne[1],Ce=Object(r.useState)(""),Te=Object(h.a)(Ce,2),Se=Te[0],De=Te[1],Be=Object(r.useState)(""),Pe=Object(h.a)(Be,2),Ee=Pe[0],Me=Pe[1],Re=Object(r.useState)(""),Ae=Object(h.a)(Re,2),Le=Ae[0],We=Ae[1],qe=Object(r.useState)(!1),Ve=Object(h.a)(qe,2),Fe=Ve[0],He=Ve[1],Ge=Object(r.useState)(null),Je=Object(h.a)(Ge,2),Qe=Je[0],ze=Je[1],Ye=Object(r.useState)(""),Ke=Object(h.a)(Ye,2),Xe=Ke[0],Ze=Ke[1],$e=Object(r.useState)(!1),tn=Object(h.a)($e,2),en=tn[0],nn=tn[1],rn=Object(r.useState)(null),sn=Object(h.a)(rn,2),an=sn[0],cn=sn[1],un=Object(r.useState)(!1),on=Object(h.a)(un,2),pn=on[0],dn=on[1],hn=Object(r.useState)(!1),ln=Object(h.a)(hn,2),bn=ln[0],fn=ln[1],mn=Object(r.useState)(!1),vn=Object(h.a)(mn,2),gn=vn[0],jn=vn[1],xn=Object(r.useState)(!1),yn=Object(h.a)(xn,2),On=yn[0],wn=yn[1],kn=Object(r.useState)(""),_n=Object(h.a)(kn,2),Nn=_n[0],In=_n[1];function Un(){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:An(),pt(""),at(!1),bt(""),gt(""),Ot(""),Nt(""),Tt(""),At(""),Vt(""),Jt(""),Kt(!1),te(!1),ie(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tn(){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return An(),dr(),t.next=4,Mn();case 4:return t.next=6,x.initUUID();case 6:Vn(),Wn(),Hn(),Jn(),zn(),Kn(),Zn(),tr(),nr(),ir(),ar();case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Dn(){Jn()}function Bn(){0!==x.gasBalance&&0!==x.gasBalance||zn(),!0===x.isBoundViaContract&&!1===x.isUUIDLinked&&tr(),!1===x.isMintedViaContract&&ar()}function Pn(){console.log("remove events"),"object"===typeof x.web3Instance&&(x.web3Instance.removeListener("accountsChanged",Tn),x.web3Instance.removeListener("chainChanged",Dn)),y&&clearInterval(y)}function En(){console.log("add events"),"object"===typeof x.web3Instance&&(x.web3Instance.on("accountsChanged",Tn),x.web3Instance.on("chainChanged",Dn)),y=setInterval(Bn,5e3)}function Mn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.queryTokenBalance();case 2:e=t.sent,Pt(e>0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function An(){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.resetWalletData();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function Wn(){return qn.apply(this,arguments)}function qn(){return(qn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initWalletAddress();case 3:e=t.sent,gt(e),ue(""),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Vn(){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{bt(x.uuid)}catch(e){}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Hn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initENSName();case 3:e=t.sent,Ot(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Jn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initChainId();case 3:e=t.sent,Nt(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function zn(){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initGasBalance();case 3:e=t.sent,Tt(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Kn(){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.canAutoSwitchNetworks();case 3:e=t.sent,At(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Zn(){return $n.apply(this,arguments)}function $n(){return($n=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getQrCodeUUIDUrl();case 3:e=t.sent,Vt(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function tr(){return er.apply(this,arguments)}function er(){return(er=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initIsUUIDLinked();case 3:e=t.sent,Jt(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function nr(){return rr.apply(this,arguments)}function rr(){return(rr=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initIsUUIDSigned();case 3:e=t.sent,Kt(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function ir(){return sr.apply(this,arguments)}function sr(){return(sr=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,jn(!0),t.next=4,x.initIsBoundViaContract();case 4:e=t.sent,te(e),jn(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),jn(!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function ar(){return cr.apply(this,arguments)}function cr(){return(cr=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.initIsMintedViaContract();case 3:e=t.sent,ie(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function ur(){return or.apply(this,arguments)}function or(){return(or=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==typeof x){t.next=2;break}return t.abrupt("return");case 2:console.log("initRegistration"),x=new v.a(X,n,s,c,o,l,O,k,N,U,T,D,P,M,A,W,V,H,J,z,K);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pr(){return(pr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ur();case 2:lr();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dr(){return hr.apply(this,arguments)}function hr(){return(hr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:at(!1),Mr();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lr(){return br.apply(this,arguments)}function br(){return(br=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ur();case 2:x.hasReconnectableWallet()&&fr();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fr(){return mr.apply(this,arguments)}function mr(){return(mr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ue(""),t.next=4,ur();case 4:return Pn(),t.next=7,x.connectWallet();case 7:En(),Tn(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),Un(),"User Rejected"===t.t0.message?ue("Unlock your wallet to continue"):ue(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function vr(){return(vr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ue(""),t.next=4,ur();case 4:return Pn(),t.next=7,x.chooseWallet();case 7:En(),Tn(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),Un(),"User Rejected"===t.t0.message?ue("Unlock your wallet to continue"):ue(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function gr(){return(gr=Object(d.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:In(e.target.value);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jr(){return xr.apply(this,arguments)}function xr(){return(xr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nn);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yr(){return(yr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.open(P,"_blank");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Or(){return(Or=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.switchToMintNetwork();case 3:Me(""),t.next=12;break;case 6:if(t.prev=6,t.t0=t.catch(0),4902!==t.t0.code){t.next=11;break}return kr(),t.abrupt("return");case 11:Me(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function wr(){return(wr=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.switchToMainnetNetwork();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function kr(){return _r.apply(this,arguments)}function _r(){return(_r=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.addMintNetwork();case 3:Me(""),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Me(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function Nr(){return(Nr=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,dn(!0),t.next=4,x.signBindParams();case 4:return t.next=6,nr();case 6:he(""),dn(!1),t.next=18;break;case 10:return t.prev=10,t.t0=t.catch(0),console.error(t.t0),t.next=15,nr();case 15:e=x.getSignErrorMessage(t.t0),he(e),dn(!1);case 18:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function Ir(){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return We(""),He(!1),ze(null),fn(!1),t.prev=4,t.next=7,ir();case 7:if(!1!==x.isBoundViaContract){t.next=9;break}throw new Error("Transaction failed. Please try again.");case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),e=x.getBindErrorMessage(t.t0),We(e);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function Cr(){return Tr.apply(this,arguments)}function Tr(){return Tr=Object(d.a)(b.a.mark((function t(){var e,n,r,i,s=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]&&s[0],t.prev=1,fn(!0),t.next=5,x.bindViaTransaction();case 5:return n=t.sent,He(!0),ze(n.hash),We(""),t.next=11,n.wait();case 11:if((r=t.sent).blockNumber&&1===Number(r.status)){t.next=14;break}throw new Error("Transaction failed. Please try again.");case 14:return t.next=16,ir();case 16:if(!1!==x.isBoundViaContract){t.next=18;break}throw new Error("Transaction failed. Please try again.");case 18:We(""),He(!1),ze(null),fn(!1),nt(!1),t.next=39;break;case 25:if(t.prev=25,t.t0=t.catch(1),console.error(t.t0),!1!==e||!x.getIsUUIDAlreadyBoundError(t.t0)){t.next=31;break}return Ir(),t.abrupt("return");case 31:return t.next=33,ir();case 33:i=x.getBindErrorMessage(t.t0),We(i),He(!1),ze(null),fn(!1),nt(!1);case 39:case"end":return t.stop()}}),t,null,[[1,25]])}))),Tr.apply(this,arguments)}function Sr(){return Dr.apply(this,arguments)}function Dr(){return Dr=Object(d.a)(b.a.mark((function t(){var e,n,r,i,s=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]&&s[0],t.prev=1,fn(!0),me("We're binding your UUID.  This could take a minute or two. Please wait."),t.next=6,x.bindViaRelay();case 6:if(!1!==(n=t.sent).ok){t.next=12;break}return t.next=10,n.json();case 10:throw r=t.sent,new Error(r.error.message);case 12:return t.next=14,ir();case 14:xe(""),me(""),fn(!1),nt(!1),t.next=33;break;case 20:if(t.prev=20,t.t0=t.catch(1),console.error(t.t0),!1!==e||!x.getIsUUIDAlreadyBoundError(t.t0)){t.next=26;break}return Ir(),t.abrupt("return");case 26:return t.next=28,ir();case 28:i=x.getBindErrorMessage(t.t0),xe(i),me(""),fn(!1),nt(!1);case 33:case"end":return t.stop()}}),t,null,[[1,20]])}))),Dr.apply(this,arguments)}function Br(){return(Br=Object(d.a)(b.a.mark((function t(){var e,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,wn(!0),t.next=4,jr();case 4:if(e=t.sent){t.next=7;break}throw new Error("Please enter a wallet address to rescue from.");case 7:return t.next=9,x.rescueViaTransaction(e);case 9:return n=t.sent,nn(!0),cn(n.hash),Ze(""),t.next=15,n.wait();case 15:if((r=t.sent).blockNumber&&1===Number(r.status)){t.next=18;break}throw new Error("Transaction failed. Please try again.");case 18:return t.next=20,ar();case 20:Ze(""),nn(!1),cn(null),wn(!1),t.next=37;break;case 26:return t.prev=26,t.t0=t.catch(0),console.error(t.t0),t.next=31,ar();case 31:i=x.getMintErrorMessage(t.t0),Ze(i),nn(!1),cn(null),wn(!1),x.getIsUUIDUnboundError(t.t0)&&nt(!0);case 37:case"end":return t.stop()}}),t,null,[[0,26]])})))).apply(this,arguments)}function Pr(){return(Pr=Object(d.a)(b.a.mark((function t(){var e,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,wn(!0),ke("We're rescuing your NFT.  This could take a minute or two. Please wait."),t.next=5,jr();case 5:if(e=t.sent){t.next=8;break}throw new Error("Please enter a wallet address to rescue from.");case 8:return t.next=10,x.rescueViaRelay(e);case 10:if(!1!==(n=t.sent).ok){t.next=16;break}return t.next=14,n.json();case 14:throw r=t.sent,new Error(r.error.message);case 16:return t.next=18,ar();case 18:Ue(""),ke(""),wn(!1),t.next=33;break;case 23:return t.prev=23,t.t0=t.catch(0),console.error(t.t0),t.next=28,ar();case 28:i=x.getMintErrorMessage(t.t0),Ue(i),ke(""),wn(!1),x.getIsUUIDUnboundError(t.t0)&&nt(!0);case 33:case"end":return t.stop()}}),t,null,[[0,23]])})))).apply(this,arguments)}function Er(t){sessionStorage.setItem("".concat(X,"-mode"),t),pt(t)}function Mr(){Er("gas")}function Rr(){return"gasless"===ot}function Ar(){return _t===Number(M)}function Lr(){return qr()&&""!==ot}function Wr(t){return!0===t?"complete":"incomplete"}function qr(){return""!==vt}function Vr(){return Ar()}function Fr(){return Ct>0}function Hr(){return!0===Yt}function Gr(){return!0===Gt}function Jr(){return!0===$t&&!1===gn}function Qr(){return!0===re}function zr(t){return!0===t?"active":"inactive"}function Yr(){return Vr()&&!0}function Kr(){return!(!Rr()||!qr())||!Rr()&&Fr()&&Yr()}function Xr(){return Hr()&&Kr()}function Zr(){return Jr()&&Xr()}return Object(r.useEffect)((function(){!1!==Z.current&&(Z.current&&(Z.current=!1),function(){pr.apply(this,arguments)}())})),Object(j.jsx)("div",{className:"brightid-nft-mint",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("section",{className:"brightid-nft-mint-step",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__main",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Rescuing a BrightID Soulbound NFT"})})}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"To rescue your BrightID Soulbound NFT you'll perform a 'rescue' process that will allow you to transfer your soulbound NFT from a lost or compromised wallet to a new wallet of your choice. This is made possible by using the BrightID verification system to assure that only the owner of the BrightID account that minted the NFT can rescue it to a new wallet."}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:["To execute the rescue you'll need to perform the tasks below with the"," ",Object(j.jsx)("strong",{children:"wallet you want to rescue the NFT to"})," ","(not the lost wallet holding it)."]})]})]}),Object(j.jsxs)("section",{className:"\n                        brightid-nft-mint-step\n                        brightid-nft-mint-step--connect\n                        brightid-nft-mint-step--".concat(Wr(qr()),"\n                        brightid-nft-mint-step--").concat(zr(!0),"\n                    "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Connect Wallet"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__action",children:Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return vr.apply(this,arguments)}()},children:"Connect"})})]}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[yt&&Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"ENS: "}),Object(j.jsx)("span",{className:"brightid-nft-mint-step__description-ens-address",children:yt})]}),vt&&Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Address: "}),Object(j.jsx)("span",{className:"brightid-nft-mint-step__description-wallet-address",children:vt})]}),!vt&&Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Address: "}),Object(j.jsx)("span",{children:"Not Connected"})]})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__feedback",children:ce&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:ce})})]}),Bt&&Object(j.jsxs)("section",{className:"brightid-nft-mint-step",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__main",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Wallet Already Holds NFT"})})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__description",children:Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"It looks like this wallet already holds a BrightID Soulbound NFT. Only a wallet that doesn't already have an NFT can be used to rescue a lost NFT."})})]}),!Bt&&qr()&&st&&Object(j.jsxs)("section",{className:"brightid-nft-mint-step",children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Select the type of experience."})}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__action",children:[Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return Mr()},children:"Gas"}),Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){Er("gasless")},children:"Gasless"})]})]}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"gas:"})," you'll execute transactions on Gnosis Chain using xDAI for gas."]}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"gasless:"})," We'll cover the gas fees for you, but you may experience rate limits."]})]}),ot&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__description",children:Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:Object(j.jsxs)("strong",{children:["Current Mode:"," ",Object(j.jsx)("span",{className:"brightid-nft-mint-step__important",children:ot})]})})})]}),!Bt&&Lr()&&!Rr()&&Object(j.jsxs)("section",{className:"\n                            brightid-nft-mint-step\n                            brightid-nft-mint-step--".concat(Wr(Vr()),"\n                            brightid-nft-mint-step--").concat(zr(!0),"\n                        "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsxs)("h2",{className:"brightid-nft-mint-step__heading",children:["Switch Wallet to ",A]})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__action",children:Rt&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return Or.apply(this,arguments)}()},children:"Switch"})})]}),qr()&&!Rt&&Object(j.jsxs)("div",{className:" brightid-nft-mint-step__description brightid-nft-mint-step__description--action brightid-nft-mint-step__description--action-hide-on-complete ",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"In your wallet app create a new network with the following data and switch to that network."}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Network Name: "}),A]}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"RPC URL: "}),z]}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Chain ID: "}),M]}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Currency Symbol: "}),W]}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Block Explorer URL: "}),H]})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__feedback",children:Ee&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:Ee})})]}),!Bt&&Lr()&&!Rr()&&Object(j.jsxs)("section",{className:"\n                            brightid-nft-mint-step\n                            brightid-nft-mint-step--".concat(Wr(Fr()),"\n                            brightid-nft-mint-step--").concat(zr(Yr()),"\n                        "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsxs)("h2",{className:"brightid-nft-mint-step__heading",children:["Obtain ",W," Gas Tokens"]})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__action",children:Vr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return yr.apply(this,arguments)}()},children:"Obtain"})})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__description",children:Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"Balance: "}),Object(j.jsxs)("span",{className:"brightid-nft-mint-step__description-balance",children:[Ct," ",W]})]})})]}),!Bt&&Lr()&&Object(j.jsxs)("section",{className:"\n                            brightid-nft-mint-step\n                            brightid-nft-mint-step--".concat(Wr(Hr()),"\n                            brightid-nft-mint-step--").concat(zr(Kr()),"\n                        "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Sign UUID"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__action",children:qr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return Nr.apply(this,arguments)}()},disabled:!!pn||null,children:"Sign"})})]}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"In this step you will be asked to sign a hash of the UUID below with your wallet."}),lt&&Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Object(j.jsx)("strong",{children:"UUID: "}),Object(j.jsx)("span",{className:"brightid-nft-mint-step__description-wallet-address",children:lt})]})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__feedback",children:de&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:de})})]}),!Bt&&Lr()&&Object(j.jsxs)("section",{className:"\n                            brightid-nft-mint-step\n                            brightid-nft-mint-step--".concat(Wr(Jr()),"\n                            brightid-nft-mint-step--").concat(zr(Xr()),"\n                        "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Bind UUID"})}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__action",children:[Rr()&&qr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return Sr(!1)},disabled:!(!bn&&!gn)||null,children:"Bind"}),!Rr()&&qr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return Cr(!1)},disabled:!(!bn&&!gn)||null,children:"Bind"})]})]}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__feedback",children:[fe&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-loading-icon",children:Object(j.jsxs)("div",{className:"brightid-nft-mint-step__loading-icon",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-message",children:Object(j.jsx)("div",{children:fe})})]}),!bn&&gn&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--status",children:"Checking to see if UUID is already bound. Please wait."}),je&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:je}),Fe&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-loading-icon",children:Object(j.jsxs)("div",{className:"brightid-nft-mint-step__loading-icon",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response-message",children:[Object(j.jsx)("div",{children:"Transaction is being processed..."}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{className:"brightid-nft-mint-step__response-link",href:"".concat(H).concat(J).concat(Qe),target:"_blank",rel:"noreferrer",children:"View Transaction"})})]})]}),Le&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:Le}),Jr()&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__description",children:Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:Object(j.jsx)("strong",{children:"Your UUID has been bound."})})})]})]}),!Bt&&Lr()&&Object(j.jsxs)("section",{className:"\n                            brightid-nft-mint-step\n                            brightid-nft-mint-step--brightid-link\n                            brightid-nft-mint-step--".concat(Wr(Gr()),"\n                            brightid-nft-mint-step--").concat(zr(Zr()),"\n                        "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Link UUID to BrightID"})})]}),Jr()&&qt&&Object(j.jsxs)("div",{className:" brightid-nft-mint-step__description brightid-nft-mint-step__description--action ",children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step--mobile",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"If you're on your mobile device just use this button to open BrightID and link your wallet."}),Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-button-container",children:Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){var t=qt;""!==t&&new g({onIgnored:function(){console.log("browser failed to respond to the deep link"),De("Couldn't open BrightID. Scan the QR code below with the device you have BrightID installed on.")},onFallback:function(){console.log("dialog hidden or user returned to tab")},onReturn:function(){console.log("user returned to the page from the native app")}}).openURL(t)}()},children:"Link Address"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__feedback",children:Se&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:Se})}),Object(j.jsx)("p",{className:"brightid-nft-mint-step--mobile",children:Object(j.jsx)("br",{})}),Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:'If BrightID is installed on another device scan the QR code below with the "Scan a Code" button in the BrightID mobile app.'})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step--desktop",children:Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:'Use the "Scan a Code" button in the BrightID app to scan the QR code below.'})}),Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-qrcode-container",children:Object(j.jsx)(m.a,{renderAs:"svg",size:200,value:qt})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step--desktop",children:Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"After linking, you'll get a confirmation in the BrightID app. Then just wait about 20-30 seconds and this website will update to allow continuing to the next step."})})]}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__feedback"})]}),!Bt&&Lr()&&Object(j.jsxs)("section",{className:"\n                        brightid-nft-mint-step\n                        brightid-nft-mint-step--".concat(Wr(Qr()),"\n                        brightid-nft-mint-step--").concat(zr(Qr()||Gr()&&Zr()),"\n                    "),children:[Object(j.jsxs)("div",{className:"brightid-nft-mint-step__main",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__status",children:Object(j.jsx)("div",{className:"brightid-nft-mint-step__status-icon"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__header",children:Object(j.jsx)("h2",{className:"brightid-nft-mint-step__heading",children:"Rescue NFT"})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__action"})]}),qr()&&Jr()&&Gr()&&!Qr()&&Object(j.jsxs)("div",{className:" brightid-nft-mint-step__description brightid-nft-mint-step__description--action ",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"Enter the wallet address that contains the NFT you are rescuing."}),Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-button-container",children:Object(j.jsx)("input",{autoComplete:"off",className:"brightid-nft-mint-step__input",type:"text",onChange:function(t){return function(t){return gr.apply(this,arguments)}(t)},placeholder:"Enter wallet address to rescue from"})}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-button-container",children:[Rr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return Pr.apply(this,arguments)}()},disabled:!(!On&&!et)||null,children:"Rescue"}),!Rr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return Br.apply(this,arguments)}()},disabled:!(!On&&!et)||null,children:"Rescue"})]})]}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__feedback",children:[we&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-loading-icon",children:Object(j.jsxs)("div",{className:"brightid-nft-mint-step__loading-icon",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-message",children:Object(j.jsx)("div",{children:we})})]}),Ie&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:Ie}),en&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response",children:[Object(j.jsx)("div",{className:"brightid-nft-mint-step__response-loading-icon",children:Object(j.jsxs)("div",{className:"brightid-nft-mint-step__loading-icon",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),Object(j.jsxs)("div",{className:"brightid-nft-mint-step__response-message",children:[Object(j.jsx)("div",{children:"Transaction is being processed..."}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{className:"brightid-nft-mint-step__response-link",href:"".concat(H).concat(J).concat(an),target:"_blank",rel:"noreferrer",children:"View Transaction"})})]})]}),Xe&&Object(j.jsx)("div",{className:"brightid-nft-mint-step__response brightid-nft-mint-step__response--error",children:Xe}),et&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:Object(j.jsx)("strong",{children:"Sorry it looks like your UUID failed to bind properly. Please use this retry button to rebind it and then try minting again."})}),Object(j.jsxs)("p",{className:"brightid-nft-mint-step__description-p",children:[Rr()&&qr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return Sr(!0)},disabled:!!bn||null,children:"Retry Bind"}),!Rr()&&qr()&&Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return Cr(!0)},disabled:!!bn||null,children:"Retry Bind"})]})]}),Qr()&&Object(j.jsxs)("div",{className:"brightid-nft-mint-step__description",children:[Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:Object(j.jsx)("strong",{children:"Your NFT has been rescued."})}),Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:vt&&Object(j.jsx)("a",{className:"brightid-nft-mint-step__description-link",href:"https://epor.io/".concat(vt),rel:"noreferrer",children:"View Your NFT Here"})}),!Rr()&&Ar()&&Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:"Before you leave you can use the button below to switch your wallet back to the Ethereum mainnet."}),!Rr()&&Ar()&&Rt&&Object(j.jsx)("p",{className:"brightid-nft-mint-step__description-p",children:Object(j.jsx)("button",{className:"brightid-nft-mint-step__button",onClick:function(){return function(){return wr.apply(this,arguments)}()},children:"Switch back to Mainnet"})})]})]})]})]})})};var w=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("img",{className:"App-header__image",src:p,alt:"Soulbound"})}),Object(j.jsx)("main",{children:Object(j.jsx)("div",{className:"App-brightid-nft-mint",children:Object(j.jsx)(O,{context:"soulbound",contractAddr:"0x8884C28d13648128a7191Cb3C9Af7A9e14fCbF71",mainnetRpcUrl:"https://mainnet.infura.io/v3/60a7b2c16321439a917c9e74a994f7df",walletConnectInfuraId:"60a7b2c16321439a917c9e74a994f7df",relayBindURL:"https://brightid-nft-mint-relay.herokuapp.com/bind",relayMintURL:"https://brightid-nft-mint-relay.herokuapp.com/mint",maxSupply:"10000"})})}),Object(j.jsx)("footer",{className:"App-footer",children:"\xa9 2022 BrightID"})]})};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(w,{})})})})}),document.getElementById("root")),c()},85:function(t,e,n){"use strict";(function(t){var r=n(86),i=n(4),s=n(5),a=n(6),c=n(0),u=n.n(c),o=n(29),p=n(212),d=n.n(p),h=n(225),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"https://play.google.com/store/apps/details?id=org.brightid",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"https://apps.apple.com/us/app/brightid/id1428946820",h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"https://meet.brightid.org",l=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"brightid://link-verification/http:%2f%2fnode.brightid.org",b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"https://www.gimlu.com/faucet",f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:100,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:"Gnosis Chain (formerly xDai)",v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:"xDAI",g=arguments.length>16&&void 0!==arguments[16]?arguments[16]:18,j=arguments.length>17&&void 0!==arguments[17]?arguments[17]:"https://blockscout.com/xdai/mainnet",x=arguments.length>18&&void 0!==arguments[18]?arguments[18]:"/tx/",y=arguments.length>19&&void 0!==arguments[19]?arguments[19]:"https://rpc.gnosischain.com",O=arguments.length>20&&void 0!==arguments[20]?arguments[20]:"https://app.brightid.org/node/v5/verifications";Object(s.a)(this,e),this.contractAbi=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"verifier",internalType:"address"},{type:"bytes32",name:"context",internalType:"bytes32"},{type:"string",name:"name_",internalType:"string"},{type:"string",name:"symbol_",internalType:"string"}]},{type:"event",name:"AddressBound",inputs:[{type:"address",name:"addr",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"ContextSet",inputs:[{type:"bytes32",name:"context",internalType:"bytes32",indexed:!1}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"tokenId",internalType:"uint256",indexed:!0}],anonymous:!1},{type:"event",name:"VerifierSet",inputs:[{type:"address",name:"verifier",internalType:"address",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceOf",inputs:[{type:"address",name:"owner",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"bind",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"bytes32",name:"uuidHash",internalType:"bytes32"},{type:"uint256",name:"nonce",internalType:"uint256"},{type:"bytes",name:"signature",internalType:"bytes"}]},{type:"function",stateMutability:"pure",outputs:[{type:"bytes32",name:"",internalType:"bytes32"}],name:"getUUIDHash",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"bytes32",name:"uuidHash",internalType:"bytes32"},{type:"uint256",name:"nonce",internalType:"uint256"}]},{type:"function",stateMutability:"pure",outputs:[{type:"bytes32",name:"",internalType:"bytes32"}],name:"hashUUID",inputs:[{type:"bytes32",name:"uuid",internalType:"bytes32"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"mint",inputs:[{type:"bytes32[]",name:"contextIds",internalType:"bytes32[]"},{type:"uint256",name:"timestamp",internalType:"uint256"},{type:"uint8",name:"v",internalType:"uint8"},{type:"bytes32",name:"r",internalType:"bytes32"},{type:"bytes32",name:"s",internalType:"bytes32"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"name",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"ownerOf",inputs:[{type:"uint256",name:"tokenId",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescue",inputs:[{type:"bytes32[]",name:"contextIds",internalType:"bytes32[]"},{type:"uint256",name:"timestamp",internalType:"uint256"},{type:"uint256",name:"tokenId",internalType:"uint256"},{type:"uint8",name:"v",internalType:"uint8"},{type:"bytes32",name:"r",internalType:"bytes32"},{type:"bytes32",name:"s",internalType:"bytes32"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"rescue",inputs:[{type:"bytes32[]",name:"contextIds",internalType:"bytes32[]"},{type:"uint256",name:"timestamp",internalType:"uint256"},{type:"uint256",name:"tokenId",internalType:"uint256"},{type:"uint8",name:"v",internalType:"uint8"},{type:"bytes32",name:"r",internalType:"bytes32"},{type:"bytes32",name:"s",internalType:"bytes32"},{type:"bytes",name:"data",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setContext",inputs:[{type:"bytes32",name:"context",internalType:"bytes32"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setVerifier",inputs:[{type:"address",name:"verifier",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"supportsInterface",inputs:[{type:"bytes4",name:"interfaceId",internalType:"bytes4"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"symbol",inputs:[]},{type:"function",stateMutability:"pure",outputs:[{type:"string",name:"",internalType:"string"}],name:"tokenURI",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupply",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]}],this.walletAddress="",this.ensName="",this.chainId=0,this.gasBalance=0,this.totalSupply=0,this.maxSupply=0,this.brightIDLinkedWallets=[],this.isBrightIDLinked=!1,this.isUUIDSigned=!1,this.isUUIDLinked=!1,this.isBoundViaContract=!1,this.isMintedViaContract=!1,this.context="",this.contractAddr="",this.mainnetRpcUrl="",this.walletConnectInfuraId="",this.relayBindURL="",this.relayMintURL="",this.appStoreAndroid="",this.appStoreIos="",this.brightIdMeetUrl="",this.deepLinkPrefix="",this.mintTokenFaucetUrl="",this.mintChainId=0,this.mintChainName="",this.mintTokenDecimal=0,this.mintTokenName="",this.mintBlockExplorerUrl="",this.mintBlockExplorerTxnPath="",this.mintRpcUrl="",this.verificationUrl="",this.uuid="",this.bindParams=null,this.statePrefix=t,this.context=n,this.contractAddr=r,this.mainnetRpcUrl=i,this.walletConnectInfuraId=a,this.relayBindURL=c,this.relayMintURL=u,this.maxSupply=o,this.appStoreAndroid=p,this.appStoreIos=d,this.brightIdMeetUrl=h,this.deepLinkPrefix=l,this.mintTokenFaucetUrl=b,this.mintChainId=Number(f),this.mintChainName=m,this.mintTokenDecimal=Number(g),this.mintTokenName=v,this.mintBlockExplorerUrl=j,this.mintBlockExplorerTxnPath=x,this.mintRpcUrl=y,this.verificationUrl=O}return Object(a.a)(e,[{key:"resetWalletData",value:function(){this.walletAddress="",this.ensName="",this.chainId=0,this.gasBalance=0,this.isBrightIDLinked=!1,this.isUUIDLinked=!1,this.isUUIDSigned=!1,this.isBoundViaContract=!1,this.isMintedViaContract=!1}},{key:"initWeb3Modal",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==typeof this.web3Modal){t.next=2;break}return t.abrupt("return");case 2:console.log("initWeb3Modal"),(e={walletconnect:{package:h.a,options:{infuraId:this.walletConnectInfuraId,rpc:{}}}}).walletconnect.options.rpc[this.mintChainId]=this.mintRpcUrl,this.web3Modal=new d.a({network:"mainnet",cacheProvider:!0,providerOptions:e});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initInstance",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==typeof this.web3Instance){t.next=2;break}return t.abrupt("return");case 2:return console.log("initInstance"),t.next=5,this.initWeb3Modal();case 5:return t.next=7,this.web3Modal.connect();case 7:e=t.sent,this.web3Instance=e;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initFreshInstance",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("initFreshInstance"),t.next=3,this.initWeb3Modal();case 3:return t.next=5,this.web3Modal.clearCachedProvider();case 5:return localStorage.removeItem("walletconnect"),localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE"),localStorage.removeItem("WEB3_CONNECT_CACHED_PROVIDER"),t.next=10,this.web3Modal.connect();case 10:e=t.sent,this.web3Instance=e;case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getProvider",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initInstance();case 2:return t.abrupt("return",new o.a.providers.Web3Provider(this.web3Instance));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getMainnetProvider",value:function(){return new o.a.providers.JsonRpcProvider(this.mainnetRpcUrl)}},{key:"getRegistrationProvider",value:function(){return new o.a.providers.JsonRpcProvider(this.mintRpcUrl)}},{key:"getRegistrationProviderContract",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRegistrationProvider();case 2:return e=t.sent,t.abrupt("return",new o.a.Contract(this.contractAddr,this.contractAbi,e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getRegistrationProviderContractRw",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRegistrationProvider();case 2:return e=t.sent,t.abrupt("return",new o.a.Contract(this.contractAddr,this.contractAbi,e.getSigner()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getContract",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return e=t.sent,t.abrupt("return",new o.a.Contract(this.contractAddr,this.contractAbi,e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getContractRw",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return e=t.sent,t.abrupt("return",new o.a.Contract(this.contractAddr,this.contractAbi,e.getSigner()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getProviderType",value:function(){return JSON.parse(localStorage.getItem("WEB3_CONNECT_CACHED_PROVIDER"))}},{key:"canAutoSwitchNetworks",value:function(){return"walletconnect"!==this.getProviderType()}},{key:"hasReconnectableWallet",value:function(){return"injected"===this.getProviderType()||"walletconnect"===this.getProviderType()}},{key:"getWalletAddress",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof this.walletAddress||""===this.walletAddress){t.next=2;break}return t.abrupt("return",this.walletAddress);case 2:return console.log("getWalletAddress"),t.next=5,this.queryWalletAddress();case 5:return this.walletAddress=t.sent,t.abrupt("return",this.walletAddress);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getQrCodeUrl",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getWalletAddress();case 2:return e=t.sent,t.abrupt("return","".concat(this.deepLinkPrefix,"/").concat(this.context,"/").concat(e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getQrCodeUUIDUrl",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","".concat(this.deepLinkPrefix,"/").concat(this.context,"/").concat(this.uuid));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"queryWalletAddress",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryWalletAddress"),t.next=4,this.getProvider();case 4:return e=t.sent,t.next=7,e.listAccounts();case 7:if(0!==(n=t.sent).length){t.next=10;break}throw new Error("No Wallet Address Found");case 10:return t.abrupt("return",n[0]);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return","");case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryENSName",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryENSName"),t.next=4,this.getWalletAddress();case 4:return e=t.sent,n=this.getMainnetProvider(),t.next=8,n.lookupAddress(e);case 8:return r=t.sent,t.abrupt("return",r);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return","");case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryChainId",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryChainId"),t.next=4,this.getProvider();case 4:return e=t.sent,t.next=7,e.getNetwork();case 7:return n=t.sent,r=n.chainId,t.abrupt("return",r);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryGasBalance",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("checkGas"),t.next=4,this.getWalletAddress();case 4:return e=t.sent,t.next=7,this.getRegistrationProvider();case 7:return n=t.sent,t.next=10,n.getBalance(e);case 10:return r=t.sent,t.next=13,o.a.utils.formatEther(r);case 13:return i=t.sent,t.abrupt("return",parseFloat(i));case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryTotalSupply",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryTotalSupply"),t.next=4,this.getRegistrationProviderContract();case 4:return e=t.sent,t.next=7,e.totalSupply();case 7:return n=t.sent,r=n.toString(),t.abrupt("return",r);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryBrightIDLink",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryBrightIDLink"),n="".concat(this.verificationUrl,"/").concat(this.context,"/").concat(e,"?signed=null&timestamp=null"),r=new Request(n,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}),t.next=6,fetch(r);case 6:if(!0!==(i=t.sent).ok){t.next=12;break}return t.next=10,i.json();case 10:return s=t.sent,t.abrupt("return",s.data.contextIds[0].toLowerCase()===e.toLowerCase());case 12:if(403!==i.status){t.next=14;break}return t.abrupt("return",!0);case 14:return t.abrupt("return",!1);case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},{key:"queryBrightIDSponsorship",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryBrightIDSponsorship"),n="".concat(this.verificationUrl,"/").concat(this.context,"/").concat(e,"?signed=eth&timestamp=seconds"),r=new Request(n,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}),t.next=6,fetch(r);case 6:return i=t.sent,t.abrupt("return",i.ok);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"queryTokenBalance",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("queryTokenBalance"),t.next=4,this.getWalletAddress();case 4:return e=t.sent,t.next=7,this.getRegistrationProviderContract();case 7:return n=t.sent,t.next=10,n.balanceOf(e);case 10:return r=t.sent,t.abrupt("return",r);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}()},{key:"queryBrightIDSignature",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(this.verificationUrl,"/").concat(this.context,"/").concat(e,"?signed=eth&timestamp=seconds"),r=new Request(n,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}),t.next=5,fetch(r);case 5:return i=t.sent,t.next=8,i.json();case 8:if(s=t.sent,!1!==i.ok){t.next=11;break}throw new Error(s.errorMessage);case 11:return t.abrupt("return",s);case 14:throw t.prev=14,t.t0=t.catch(0),new Error(t.t0.message);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},{key:"initWalletAddress",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("initWalletAddress"),t.next=4,this.queryWalletAddress();case 4:return this.walletAddress=t.sent,t.abrupt("return",this.walletAddress);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"initENSName",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryENSName();case 3:return this.ensName=t.sent,t.abrupt("return",this.ensName);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"initChainId",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryChainId();case 3:return this.chainId=t.sent,t.abrupt("return",this.chainId);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"initGasBalance",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryGasBalance();case 3:return this.gasBalance=t.sent,t.abrupt("return",this.gasBalance);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"initTotalSupply",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryTotalSupply();case 3:return this.totalSupply=t.sent,t.abrupt("return",this.totalSupply);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"setCachedUUID",value:function(t){sessionStorage.setItem("".concat(this.statePrefix,"-uuid"),t)}},{key:"getCachedUUID",value:function(){return sessionStorage.getItem("".concat(this.statePrefix,"-uuid"))}},{key:"removeCachedUUID",value:function(){sessionStorage.removeItem("".concat(this.statePrefix,"-uuid"))}},{key:"hasCachedUUID",value:function(){var t=this.getCachedUUID();return null!==t&&""!==t}},{key:"restoreCachedUUID",value:function(){var t=this.getCachedUUID();this.uuid=t}},{key:"setCachedSignedUUID",value:function(t){var e=JSON.stringify(t);sessionStorage.setItem("".concat(this.statePrefix,"-uuid-bind-params"),e)}},{key:"getCachedSignedUUID",value:function(){return sessionStorage.getItem("".concat(this.statePrefix,"-uuid-bind-params"))}},{key:"removeCachedSignedUUID",value:function(){sessionStorage.removeItem("".concat(this.statePrefix,"-uuid-bind-params"))}},{key:"hasCachedSignedUUID",value:function(){var t=this.getCachedSignedUUID();return null!==t&&""!==t}},{key:"restoreCachedSignedUUID",value:function(){var t=this.getCachedSignedUUID(),e=JSON.parse(t);this.bindParams=e}},{key:"hasUUID",value:function(){return null!==this.uuid&&""!==this.uuid}},{key:"hasSignedUUID",value:function(){return null!==this.bindParams&&"undefined"!==typeof this.bindParams.addr&&"undefined"!==typeof this.bindParams.uuidHash&&"undefined"!==typeof this.bindParams.nonce&&"undefined"!==typeof this.bindParams.signature&&""!==this.bindParams.addr&&""!==this.bindParams.uuidHash&&""!==this.bindParams.nonce&&""!==this.bindParams.signature}},{key:"hasBoundUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,i,s,a,c,p,d,h,l,b,f,m,v,g,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==this.hasUUID()&&!1!==this.hasSignedUUID()){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this.queryWalletAddress();case 4:return e=t.sent,t.next=7,this.hashUUID(this.uuid);case 7:return n=t.sent,t.next=10,this.getBindParams();case 10:if((i=t.sent).addr===e&&i.uuidHash===n){t.next=13;break}return t.abrupt("return",!1);case 13:return t.next=15,this.getRegistrationProvider();case 15:return s=t.sent,t.next=18,this.getContract();case 18:return a=t.sent,(c=a.filters.AddressBound(i.addr)).fromBlock=21019766,c.toBlock="latest",p=["function bind(address owner, bytes32 uuidHash, uint256 nonce, bytes signature)"],d=new o.a.utils.Interface(p),t.next=26,s.getLogs(c);case 26:h=t.sent,l=h.reverse(),b=Object(r.a)(l),t.prev=29,b.s();case 31:if((f=b.n()).done){t.next=44;break}return m=f.value,t.next=35,s.getTransactionReceipt(m.transactionHash);case 35:return v=t.sent,t.next=38,s.getTransaction(m.transactionHash);case 38:if(g=t.sent,j=d.parseTransaction(g),!v.blockNumber||1!==Number(v.status)||i.addr!==j.args[0]||i.uuidHash!==j.args[1]){t.next=42;break}return t.abrupt("return",!0);case 42:t.next=31;break;case 44:t.next=49;break;case 46:t.prev=46,t.t0=t.catch(29),b.e(t.t0);case 49:return t.prev=49,b.f(),t.finish(49);case 52:return t.abrupt("return",!1);case 53:case"end":return t.stop()}}),t,this,[[29,46,49,52]])})));return function(){return t.apply(this,arguments)}}()},{key:"initUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryWalletAddress();case 3:if(e=t.sent,sessionStorage.getItem("".concat(this.statePrefix,"-wallet"))===e){t.next=9;break}return sessionStorage.setItem("".concat(this.statePrefix,"-wallet"),e),t.next=8,this.resetAndInitNewUUID();case 8:case 13:case 20:return t.abrupt("return",t.sent);case 9:if(this.restoreUUID(),!1!==this.hasUUID()){t.next=14;break}return t.next=13,this.resetAndInitNewUUID();case 14:t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(0),t.next=20,this.resetAndInitNewUUID();case 21:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"restoreUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.restoreCachedUUID(),this.restoreCachedSignedUUID();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resetUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.removeCachedUUID(),this.removeCachedSignedUUID(),this.uuid="",this.bindParams=null;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initNewUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.uuid=this.generateUUID(),this.setCachedUUID(this.uuid);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resetAndInitNewUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resetUUID();case 2:return t.next=4,this.initNewUUID();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"generateUUID",value:function(){return o.a.BigNumber.from(o.a.utils.randomBytes(16)).toHexString().replaceAll("0x","")}},{key:"strToByte32",value:function(e){return"0x"+new t(e).toString("hex")}},{key:"hashUUID",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRegistrationProviderContract();case 2:return n=t.sent,r=this.strToByte32(e),t.next=6,n.hashUUID(r);case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"initIsUUIDLinked",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryBrightIDLink(this.uuid);case 3:return this.isUUIDLinked=t.sent,t.abrupt("return",this.isUUIDLinked);case 7:return t.prev=7,t.t0=t.catch(0),this.isUUIDLinked=!1,t.abrupt("return",this.isUUIDLinked);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"initIsUUIDSigned",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.isUUIDSigned=this.hasSignedUUID(),t.abrupt("return",this.isUUIDSigned);case 5:return t.prev=5,t.t0=t.catch(0),this.isUUIDSigned=!1,t.abrupt("return",this.isUUIDSigned);case 9:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(){return t.apply(this,arguments)}}()},{key:"initIsBoundViaContract",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hasBoundUUID();case 3:return this.isBoundViaContract=t.sent,t.abrupt("return",this.isBoundViaContract);case 7:return t.prev=7,t.t0=t.catch(0),this.isBoundViaContract=!1,t.abrupt("return",this.isBoundViaContract);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"initIsMintedViaContract",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryTokenBalance();case 3:return e=t.sent,this.isMintedViaContract=e>0,t.abrupt("return",this.isMintedViaContract);case 8:return t.prev=8,t.t0=t.catch(0),this.isMintedViaContract=!1,t.abrupt("return",this.isMintedViaContract);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"connectWallet",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initInstance();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"chooseWallet",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initFreshInstance();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"switchToMainnetNetwork",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return e=t.sent,t.next=5,e.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"switchToMintNetwork",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.a.utils.hexlify(Number(this.mintChainId)),t.next=3,this.getProvider();case 3:return n=t.sent,t.next=6,n.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addMintNetwork",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.a.utils.hexlify(Number(this.mintChainId)),t.next=3,this.getProvider();case 3:return n=t.sent,t.next=6,n.provider.request({method:"wallet_addEthereumChain",params:[{chainId:e,chainName:this.mintChainName,nativeCurrency:{name:this.mintTokenName,symbol:this.mintTokenName,decimals:this.mintTokenDecimal},rpcUrls:[this.mintRpcUrl],blockExplorerUrls:[this.mintBlockExplorerUrl]}]});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"standardizeSignature",value:function(t){return"00"===t.slice(-2)?t.slice(0,-2)+"1b":"01"===t.slice(-2)?t.slice(0,-2)+"1c":t}},{key:"signBindParams",value:function(){var e=Object(i.a)(u.a.mark((function e(){var n,r,i,s,a,c,p,d,h,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRegistrationProviderContract();case 2:return n=e.sent,e.next=5,this.getProvider();case 5:return r=e.sent,e.next=8,this.getWalletAddress();case 8:return i=e.sent,e.next=11,this.hashUUID(this.uuid);case 11:return s=e.sent,a=o.a.utils.randomBytes(3),c=new t(a).readUIntBE(0,a.length),e.next=16,n.getUUIDHash(i,s,c);case 16:return p=e.sent,d=o.a.utils.arrayify(p),e.next=20,r.getSigner().signMessage(d);case 20:return h=e.sent,l=this.standardizeSignature(h),this.bindParams={addr:i,uuidHash:s,nonce:c,signature:l},this.setCachedSignedUUID(this.bindParams),e.abrupt("return",this.bindParams);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBindParams",value:function(){var t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.bindParams);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getMintParams",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n,r,i,s,a,c,o=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryBrightIDSignature(this.uuid);case 2:return e=t.sent,n=e.data.contextIds,r=e.data.timestamp,i=e.data.sig.v,s="0x"+e.data.sig.r,a="0x"+e.data.sig.s,c=n.map((function(t){return o.strToByte32(t)})),t.abrupt("return",{contextIds:n,contextIdsByte32:c,timestamp:r,v:i,r:s,s:a});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTokenId",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i,s,a,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRegistrationProvider();case 2:return n=t.sent,t.next=5,this.getContract();case 5:return r=t.sent,(i=r.filters.Transfer(null,e)).fromBlock=21019766,t.next=10,n.getLogs(i);case 10:if(0!==(s=t.sent).length){t.next=13;break}throw new Error("No NFTs could be found at the provided rescue address.");case 13:return a=s.pop(),c=a.topics[3],o=parseInt(c,16),t.abrupt("return",o);case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getRescueParams",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,i,s,a,c,o,p,d=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTokenId(e);case 2:return n=t.sent,t.next=5,this.queryBrightIDSignature(this.uuid);case 5:return r=t.sent,i=r.data.contextIds,s=r.data.timestamp,a=r.data.sig.v,c="0x"+r.data.sig.r,o="0x"+r.data.sig.s,p=i.map((function(t){return d.strToByte32(t)})),t.abrupt("return",{contextIds:i,contextIdsByte32:p,timestamp:s,tokenId:n,v:a,r:c,s:o});case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getMintRelayParams",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getWalletAddress();case 2:return e=t.sent,n=this.uuid,t.abrupt("return",{addr:e,uuid:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"bindViaTransaction",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initChainId();case 2:if(t.sent===Number(this.mintChainId)){t.next=5;break}throw new Error('Please switch to "'.concat(this.mintChainName,'" (chainId: ').concat(this.mintChainId,")"));case 5:return t.next=7,this.getBindParams();case 7:return e=t.sent,t.next=10,this.getContractRw();case 10:return n=t.sent,t.next=13,n.bind(e.addr,e.uuidHash,e.nonce,e.signature);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"mintViaTransaction",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initChainId();case 2:if(t.sent===Number(this.mintChainId)){t.next=5;break}throw new Error("Please switch to the ".concat(this.mintChainName," network (chainId: ").concat(this.mintChainId,") first."));case 5:return t.next=7,this.getMintParams();case 7:return e=t.sent,t.next=10,this.getContractRw();case 10:return n=t.sent,t.next=13,n.mint(e.contextIdsByte32,e.timestamp,e.v,e.r,e.s);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"rescueViaTransaction",value:function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initChainId();case 2:if(t.sent===Number(this.mintChainId)){t.next=5;break}throw new Error("Please switch to the ".concat(this.mintChainName," network (chainId: ").concat(this.mintChainId,") first."));case 5:return t.next=7,this.getRescueParams(e);case 7:return n=t.sent,t.next=10,this.getContractRw();case 10:return r=t.sent,t.next=13,r["rescue(bytes32[],uint256,uint256,uint8,bytes32,bytes32)"](n.contextIdsByte32,n.timestamp,n.tokenId,n.v,n.r,n.s);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"bindViaRelay",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBindParams();case 2:return e=t.sent,n=new Request(this.relayBindURL,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)}),t.next=6,fetch(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"mintViaRelay",value:function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMintRelayParams();case 2:return e=t.sent,n=new Request(this.relayMintURL,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)}),t.next=6,fetch(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"rescueViaRelay",value:function(){var t=Object(i.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSignErrorMessage",value:function(t){var e=this.getErrorMessage(t);return this.decodeErrorMessage(e)}},{key:"getBindErrorMessage",value:function(t){var e=this.getErrorMessage(t);return this.decodeErrorMessage(e)}},{key:"getMintErrorMessage",value:function(t){var e=this.getErrorMessage(t);return this.decodeErrorMessage(e)}},{key:"decodeErrorMessage",value:function(t){if("Reverted "===t.slice(0,9)){var e=t.slice(9);return o.a.utils.toUtf8String(e)}return t}},{key:"getErrorMessage",value:function(t){return"undefined"!==typeof t.data&&"undefined"!==typeof t.data.message&&"Reverted "===t.data.message.slice(0,9)?t.data.message:"undefined"!==typeof t.message?t.message:t}},{key:"getIsUUIDAlreadyBoundError",value:function(t){return this.getBindErrorMessage(t).includes("UUID already bound")}},{key:"getIsUUIDUnboundError",value:function(t){return this.getMintErrorMessage(t).includes("balance query for the zero address")}}]),e}();e.a=l}).call(this,n(15).Buffer)}},[[464,1,2]]]);
//# sourceMappingURL=main.794b4480.chunk.js.map